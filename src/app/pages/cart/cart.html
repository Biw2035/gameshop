<app-header></app-header>

<div class="cart-container">
  <h2>üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>

  <div *ngIf="cartItems.length === 0" class="empty-cart">
    ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
  </div>

  <div *ngFor="let game of cartItems" class="cart-item">
    <div class="cart-item-image">
      <img [src]="game.image" alt="{{ game.title }}">
    </div>
    <div class="cart-item-info">
      <h3>{{ game.title }}</h3>
      <p>‡∏´‡∏°‡∏ß‡∏î: {{ game.category }}</p>
      <p>‡∏£‡∏≤‡∏Ñ‡∏≤: ‡∏ø {{ game.price }}</p>
    </div>
    <button class="button-delete" (click)="removeGame(game.id)">üóëÔ∏è</button>
  </div>

  <div *ngIf="cartItems.length > 0" class="cart-summary">
    <p>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°: {{ getTotalFormatted() }}</p>
    <p >‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î: {{ discountValue }}</p>
    <p>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: {{ getFinalFormatted() }}</p>

    <div class="cart-buttons">
      <div class="cart-code">
        <label>‡πÇ‡∏Ñ‡πâ‡∏î‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ):</label>
        <input type="text" [(ngModel)]="discountCode" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤" />
        <button type="button" (click)="applyDiscount()" class="button-apply">‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î</button>
      </div>

      <button (click)="checkout()" class="button-checkout">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
    </div>
  </div>
</div>
