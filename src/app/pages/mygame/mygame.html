<app-header></app-header>

<div class="mygames-container">
  <h2>üéÆ My Games</h2>

  <div *ngIf="games.length === 0" class="empty">
    <p>‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠</p>
  </div>

  <div class="games-grid" *ngIf="games.length > 0">
    <div class="game-card" *ngFor="let game of games">
      <img [src]="game.image || 'https://via.placeholder.com/220x140'" alt="{{ game.title }}">
      <h4>{{ game.title }}</h4>
      <p>{{ game.category }}</p>
      <p>‡∏ø {{ game.price }}</p>
      <button class="btn-detail" (click)="viewDetail(game)">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</button>
    </div>
  </div>
</div>

<!-- ‚úÖ ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î -->
<div class="discount-codes">
  <h2>üí∏ ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î</h2>

  <div *ngIf="discountCodes.length === 0" class="empty-codes">
    ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ
  </div>

  <div *ngFor="let code of discountCodes" class="code-card">
    <p><strong>‡πÇ‡∏Ñ‡πâ‡∏î:</strong> {{ code.code }}</p>
    <p><strong>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î:</strong> ‡∏ø{{ code.value }}</p>
    <p *ngIf="code.expires_at"><strong>‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏:</strong> {{ code.expires_at | date:'dd/MM/yyyy' }}</p>
    <button class="btn-copy" (click)="copyCode(code.code)">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î</button>
  </div>
</div>

<!-- Modal ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏Å‡∏° -->
<div *ngIf="selectedGame" class="modal-overlay" (click)="closeDetail()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2>{{ selectedGame.title }}</h2>
    <p class="category-price">
      <span>{{ selectedGame.category }}</span> | 
      <span>‡∏ø {{ selectedGame.price }}</span>
    </p>
    <div class="image-wrapper">
      <img [src]="selectedGame.image" alt="{{ selectedGame.title }}">
    </div>
    <p>{{ selectedGame.description }}</p>
    <p><small>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠: {{ selectedGame.created_at | date:'dd/MM/yyyy' }}</small></p>
    <button class="button-close" (click)="closeDetail()">‡∏õ‡∏¥‡∏î</button>
  </div>
</div>
